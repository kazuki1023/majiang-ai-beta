# CLI出力の説明

## 出力形式

```
node dev/eval_shoupai.js m123p1234789s3388/0/0/s3/+7
0 418.39
p1 0 418.39 s3,s8 3
p4 0 418.39 s3,s8 3
m1 1 0.00 m1,m4,s3,s8 10
m2 1 0.00 m2,s3,s8 6
m3 1 0.00 m3,s3,s8 6
p2 1 0.00 p2,p5,s3,s8 10
p3 1 0.00 p3,s3,s8 6
p7 1 0.00 p7,s3,s8 6
p8 1 0.00 p8,s3,s8 6
p9 1 0.00 p6,p9,s3,s8 10
s3 1 717.58 p1,p2,p3,p4,p5,p6,s1,s2,s3,s4,s5,s8 39
s8 1 338.16 p1,p2,p3,p4,p5,p6,s3,s6,s7,s8,s9 35
```

## 各行の意味

### 1行目: 現在の状態
```
0 418.39
```
- `0`: 現在のシャンテン数（0シャンテン = テンパイ）
- `418.39`: 現在の評価値

### 2行目以降: 各打牌候補の評価

形式: `打牌 打牌後のシャンテン数 評価値 待ち牌(カンマ区切り) 待ち牌の残り枚数`

#### 例1: `p1 0 418.39 s3,s8 3`
- **打牌**: `p1` (筒子の1)
- **打牌後のシャンテン数**: `0` (テンパイ維持)
- **評価値**: `418.39`
- **待ち牌**: `s3,s8` (索子の3と8)
- **待ち牌の残り枚数**: `3枚`

#### 例2: `s3 1 717.58 p1,p2,p3,p4,p5,p6,s1,s2,s3,s4,s5,s8 39`
- **打牌**: `s3` (索子の3)
- **打牌後のシャンテン数**: `1` (シャンテン数が悪化: 0→1)
- **評価値**: `717.58` (非常に高い！)
- **待ち牌**: `p1,p2,p3,p4,p5,p6,s1,s2,s3,s4,s5,s8` (12種類の待ち)
- **待ち牌の残り枚数**: `39枚` (非常に多い)

## 分析

### 推奨打牌の判断

1. **シャンテン数維持の候補**:
   - `p1`, `p4`: シャンテン数0を維持、評価値418.39
   - 待ち牌は少ない（s3,s8の2種類、残り3枚）

2. **シャンテン数悪化だが評価値が高い候補**:
   - `s3`: シャンテン数1に悪化するが、評価値717.58と非常に高い
   - 待ち牌が12種類、残り39枚と非常に多い
   - これは「広がり」を重視した判断

3. **その他の候補**:
   - `m1`, `m2`, `m3`, `p2`, `p3`, `p7`, `p8`, `p9`: シャンテン数1、評価値0.00
   - これらの打牌は評価が低い

### 結論

この局面では：
- **安全な選択**: `p1` または `p4` を切る（テンパイ維持、待ちは少ないが確実）
- **積極的な選択**: `s3` を切る（シャンテン数は悪化するが、待ちが広がり評価値が高い）

AIの判断基準によって、どちらを選ぶかが変わります。通常のAI実装では、評価値が最も高い`s3`を推奨する可能性が高いです。
